<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix D — Draft: Results – Evaluation of Not Safe For Work</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./draft-conclusion.html" rel="next">
<link href="./draft-data-doc.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dece3bd051e391dd7205a6b15f93dc59.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-3ad92a3ad39d50227bce2f399ceb0ced.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./draft-exec-summary.html">Appendices</a></li><li class="breadcrumb-item"><a href="./draft-results.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Draft: Results</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Evaluation of Not Safe For Work</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Executive Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data &amp; Methodology</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Results</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./recommendations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Recommendations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-exec-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Draft: Executive Summary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-intro-conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Draft: Intros</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-data-doc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Draft: Data Documentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-results.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Draft: Results</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft-conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Draft: Conclusions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#comparing-injury-costs-between-office-and-non-office-environments" id="toc-comparing-injury-costs-between-office-and-non-office-environments" class="nav-link active" data-scroll-target="#comparing-injury-costs-between-office-and-non-office-environments"><span class="header-section-number">D.1</span> Comparing Injury Costs Between Office and Non-Office Environments</a></li>
  <li><a href="#regional-and-state-level-injury-trends" id="toc-regional-and-state-level-injury-trends" class="nav-link" data-scroll-target="#regional-and-state-level-injury-trends"><span class="header-section-number">D.2</span> Regional and State-Level Injury Trends</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./draft-exec-summary.html">Appendices</a></li><li class="breadcrumb-item"><a href="./draft-results.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Draft: Results</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Appendix D — Draft: Results</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="comparing-injury-costs-between-office-and-non-office-environments" class="level2" data-number="D.1">
<h2 data-number="D.1" class="anchored" data-anchor-id="comparing-injury-costs-between-office-and-non-office-environments"><span class="header-section-number">D.1</span> Comparing Injury Costs Between Office and Non-Office Environments</h2>
<p>An analysis of workplace injury data reveals that office environments contribute for (23.88%) of total workplace injury costs, with same-level falls (17.21%) being the leading cause of injuries in office settings. In contrast, non-office environments represent a larger share of injury costs at (30.81%), primarily due to falls to lower levels (9.78%) and being struck by objects (9.56%).</p>
<p>To determine whether these differences in injury cost proportions are statistically significant, I conducted a two-sample t-test. The results showed no significant difference between office and non-office environments, t(2.40) = 0.37, p = 0.74. lthough office environments had a higher average injury cost proportion (M = 7.96%, SD = 8.04) compared to non-office environments (M = 6.16%, SD = 3.26), the 95% confidence interval [-16.11, 19.71] includes zero, suggesting that the observed difference could be due to random chance and is not statistically significant.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="draft-results_files/figure-html/office_comparison_plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Figure 1: Causes of Workplace Injuries</figcaption>
</figure>
</div>
</div>
</div>
<p>Figure 1 illustrates that office-related falls contribute more than twice the costs of non-office falls (21.23% vs.&nbsp;9.78%). This is consistent with the data presented in Table 1, which breaks down injury costs by cause and environment:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 1: Breakdown of Injury Costs by Cause and Work Environment.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Injury Cause</th>
<th style="text-align: right;">% of Costs</th>
<th style="text-align: left;">Environment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Falls on same level</td>
<td style="text-align: right;">17.21</td>
<td style="text-align: left;">Office</td>
</tr>
<tr class="even">
<td style="text-align: left;">Falls to lower level</td>
<td style="text-align: right;">9.78</td>
<td style="text-align: left;">Non-Office</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Struck by object or equipment</td>
<td style="text-align: right;">9.56</td>
<td style="text-align: left;">Non-Office</td>
</tr>
<tr class="even">
<td style="text-align: left;">Roadway incidents</td>
<td style="text-align: right;">4.76</td>
<td style="text-align: left;">Non-Office</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Slip or trip without fall</td>
<td style="text-align: right;">4.02</td>
<td style="text-align: left;">Office</td>
</tr>
<tr class="even">
<td style="text-align: left;">Caught in equipment</td>
<td style="text-align: right;">3.54</td>
<td style="text-align: left;">Non-Office</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Struck against object</td>
<td style="text-align: right;">3.17</td>
<td style="text-align: left;">Non-Office</td>
</tr>
<tr class="even">
<td style="text-align: left;">Repetitive motions</td>
<td style="text-align: right;">2.65</td>
<td style="text-align: left;">Office</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Falls, particularly same-level falls and slips in office environments, contribute significantly to injury costs. Office-related falls account for 21.23% of fall-related injury costs, compared to just 9.78% for non-office falls. This highlights the financial impact of seemingly minor but frequent office accidents.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 2: Fall-Related Injury Costs by Work Environment</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Environment</th>
<th style="text-align: right;">Total % of Costs</th>
<th style="text-align: right;">Proportion of Falls (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Non-Office</td>
<td style="text-align: right;">9.78</td>
<td style="text-align: right;">31.54</td>
</tr>
<tr class="even">
<td style="text-align: left;">Office</td>
<td style="text-align: right;">21.23</td>
<td style="text-align: right;">68.46</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Table 2 further illustrates that office environments contribute a larger proportion (68.46%) of fall-related injury costs, despite non-office environments accounting for a greater share of total injury costs.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 3: Injury Cost Distribution by Work Environment</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Environment</th>
<th style="text-align: right;">Total %</th>
<th style="text-align: right;">Average % per Cause</th>
<th style="text-align: right;">Proportion of Total (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Non-Office</td>
<td style="text-align: right;">30.81</td>
<td style="text-align: right;">6.16</td>
<td style="text-align: right;">56.34</td>
</tr>
<tr class="even">
<td style="text-align: left;">Office</td>
<td style="text-align: right;">23.88</td>
<td style="text-align: right;">7.96</td>
<td style="text-align: right;">43.66</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Table 3 summarizes the overall distribution of injury costs by work environment. While non-office environments account for a larger share of total injury costs (30.81%), office environments have a higher average cost per injury cause (7.96% vs.&nbsp;6.16%). This suggests that although injuries in office settings may occur less frequently, they tend to be more expensive on a per-cause basis.</p>
</section>
<section id="regional-and-state-level-injury-trends" class="level2" data-number="D.2">
<h2 data-number="D.2" class="anchored" data-anchor-id="regional-and-state-level-injury-trends"><span class="header-section-number">D.2</span> Regional and State-Level Injury Trends</h2>
<p>Workplace injury rates shows significant geographic variation across the United States. The Midwest reports the highest injury rate at 82.12 per 100 workers, which may be due to the region’s concentration of labor-intensive industries. In contrast, the south has the lowest rate at 67.64 per 100 workers, possibly reflecting stronger workplace safety regulations or a higher proportion of office-based jobs.</p>
<p>While injury rates vary across regions, a one-way ANOVA revealed no statistically significant differences in injury rates (p = 0.168), suggesting that regional variations in injury rates are not substantial enough to impact injury rates in a statistically meaningful way.</p>
<p>I also conducted a Pearson correlation between total injury case volume and injury rates by state. The analysis found no significant correlation (r = -0.09, p = 0.553), indicating that states with higher total injury case volumes do not necessarily experience higher injury rates per 100 workers.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="draft-results_files/figure-html/state_comparison_plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Figure 2: Comparison of Workplace Injury Rates Across Different States</figcaption>
</figure>
</div>
</div>
</div>
<p>Figure 2 illustrates that the Midwest has both the highest median and the most variable injury rates across regions.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 4: Workplace Injury Rates by Region</caption>
<colgroup>
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 15%">
<col style="width: 21%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Region</th>
<th style="text-align: right;">Average Rate</th>
<th style="text-align: right;">Median Rate</th>
<th style="text-align: right;">Number of States</th>
<th style="text-align: right;">Total Injuries (Thousands)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">82.12</td>
<td style="text-align: right;">81.80</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">17559.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Northeast</td>
<td style="text-align: right;">78.41</td>
<td style="text-align: right;">76.35</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">14637.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">West</td>
<td style="text-align: right;">76.28</td>
<td style="text-align: right;">79.00</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">15210.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">South</td>
<td style="text-align: right;">67.64</td>
<td style="text-align: right;">69.20</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">24878.8</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>At the state level, Maine has the highest injury rate at 116.3 per 100 workers more than 20 times higher than Colorado’s rate of 5.5 per 100 workers, which is the lowest. Despite this difference, correlation analysis (r = -0.09, p = 0.553) suggests no significant relationship between injury case volume and injury rate, indicating that states with higher total injury counts do not necessarily have higher injury rates.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 5: States with the Highest and Lowest Workplace Injury Rates</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Rank</th>
<th style="text-align: left;">State</th>
<th style="text-align: right;">Injury Rate</th>
<th style="text-align: right;">Cases (Thousands)</th>
<th style="text-align: left;">Region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Lowest</td>
<td style="text-align: left;">Massachusetts</td>
<td style="text-align: right;">58.0</td>
<td style="text-align: right;">1349.6</td>
<td style="text-align: left;">Northeast</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lowest</td>
<td style="text-align: left;">Georgia</td>
<td style="text-align: right;">53.9</td>
<td style="text-align: right;">1543.7</td>
<td style="text-align: left;">South</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lowest</td>
<td style="text-align: left;">Louisiana</td>
<td style="text-align: right;">49.2</td>
<td style="text-align: right;">656.3</td>
<td style="text-align: left;">South</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lowest</td>
<td style="text-align: left;">Florida</td>
<td style="text-align: right;">33.4</td>
<td style="text-align: right;">1776.2</td>
<td style="text-align: left;">South</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lowest</td>
<td style="text-align: left;">Colorado</td>
<td style="text-align: right;">5.5</td>
<td style="text-align: right;">107.5</td>
<td style="text-align: left;">West</td>
</tr>
<tr class="even">
<td style="text-align: left;">Highest</td>
<td style="text-align: left;">Maine</td>
<td style="text-align: right;">116.3</td>
<td style="text-align: right;">459.8</td>
<td style="text-align: left;">Northeast</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Highest</td>
<td style="text-align: left;">Montana</td>
<td style="text-align: right;">104.8</td>
<td style="text-align: right;">292.8</td>
<td style="text-align: left;">West</td>
</tr>
<tr class="even">
<td style="text-align: left;">Highest</td>
<td style="text-align: left;">West Virginia</td>
<td style="text-align: right;">96.2</td>
<td style="text-align: right;">543.2</td>
<td style="text-align: left;">South</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Highest</td>
<td style="text-align: left;">Alaska</td>
<td style="text-align: right;">93.0</td>
<td style="text-align: right;">186.9</td>
<td style="text-align: left;">West</td>
</tr>
<tr class="even">
<td style="text-align: left;">Highest</td>
<td style="text-align: left;">Iowa</td>
<td style="text-align: right;">92.7</td>
<td style="text-align: right;">961.2</td>
<td style="text-align: left;">Midwest</td>
</tr>
</tbody>
</table>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./draft-data-doc.html" class="pagination-link" aria-label="Draft: Data Documentation">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Draft: Data Documentation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./draft-conclusion.html" class="pagination-link" aria-label="Draft: Conclusions">
        <span class="nav-page-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Draft: Conclusions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Jia Yee Wong</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>